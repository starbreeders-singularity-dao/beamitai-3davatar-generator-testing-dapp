{"ast":null,"code":"var _jsxFileName = \"/Users/thomasheindl/Documents/beamitai01/beamitai/frontend/src/components/NFTMinter.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { BrowserProvider, Contract } from 'ethers';\nimport { CONTRACT_ADDRESS, CONTRACT_ABI } from '../contracts/BeamitAIGen1';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NFTMinter = ({\n  glbUrl,\n  originalNFT\n}) => {\n  _s();\n  const [isMinting, setIsMinting] = useState(false);\n  const mintNFT = async () => {\n    try {\n      setIsMinting(true);\n      console.log('Starting mint process...', {\n        glbUrl,\n        originalNFT\n      });\n\n      // Check if MetaMask is installed\n      if (!window.ethereum) {\n        throw new Error('Please install MetaMask');\n      }\n\n      // Request account access\n      const accounts = await window.ethereum.request({\n        method: 'eth_requestAccounts'\n      });\n      console.log('Connected account:', accounts[0]);\n\n      // Connect to MetaMask\n      const provider = new BrowserProvider(window.ethereum);\n      console.log('Provider created');\n      const signer = await provider.getSigner();\n      console.log('Signer obtained');\n\n      // Create contract instance\n      const contract = new Contract(CONTRACT_ADDRESS, CONTRACT_ABI, signer);\n      console.log('Contract instance created');\n\n      // For testing, let's just mint with dummy data\n      console.log('Initiating mint transaction...');\n      const tx = await contract.mint(await signer.getAddress(), \"test-uri\", (originalNFT === null || originalNFT === void 0 ? void 0 : originalNFT.tokenId) || \"test-token\", (originalNFT === null || originalNFT === void 0 ? void 0 : originalNFT.chainId) || 1);\n      console.log('Transaction sent:', tx.hash);\n      console.log('Waiting for confirmation...');\n      const receipt = await tx.wait();\n      console.log('Transaction confirmed:', receipt);\n      alert('NFT Minted Successfully!');\n    } catch (error) {\n      console.error('Minting error:', error);\n      alert('Failed to mint NFT: ' + error.message);\n    } finally {\n      setIsMinting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: mintNFT,\n    disabled: isMinting,\n    className: \"mint-button\",\n    style: {\n      padding: '10px 20px',\n      fontSize: '16px',\n      backgroundColor: '#4CAF50',\n      color: 'white',\n      border: 'none',\n      borderRadius: '4px',\n      cursor: isMinting ? 'not-allowed' : 'pointer',\n      opacity: isMinting ? 0.7 : 1\n    },\n    children: isMinting ? 'Minting...' : 'Mint NFT'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n};\n_s(NFTMinter, \"joId2EiQDCFhrJf1KnPBwxLsB9s=\");\n_c = NFTMinter;\nexport default NFTMinter;\nvar _c;\n$RefreshReg$(_c, \"NFTMinter\");","map":{"version":3,"names":["useState","BrowserProvider","Contract","CONTRACT_ADDRESS","CONTRACT_ABI","jsxDEV","_jsxDEV","NFTMinter","glbUrl","originalNFT","_s","isMinting","setIsMinting","mintNFT","console","log","window","ethereum","Error","accounts","request","method","provider","signer","getSigner","contract","tx","mint","getAddress","tokenId","chainId","hash","receipt","wait","alert","error","message","onClick","disabled","className","style","padding","fontSize","backgroundColor","color","border","borderRadius","cursor","opacity","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/thomasheindl/Documents/beamitai01/beamitai/frontend/src/components/NFTMinter.js"],"sourcesContent":["import { useState } from 'react';\nimport { BrowserProvider, Contract } from 'ethers';\nimport { CONTRACT_ADDRESS, CONTRACT_ABI } from '../contracts/BeamitAIGen1';\n\nconst NFTMinter = ({ glbUrl, originalNFT }) => {\n    const [isMinting, setIsMinting] = useState(false);\n    \n    const mintNFT = async () => {\n        try {\n            setIsMinting(true);\n            console.log('Starting mint process...', { glbUrl, originalNFT });\n            \n            // Check if MetaMask is installed\n            if (!window.ethereum) {\n                throw new Error('Please install MetaMask');\n            }\n            \n            // Request account access\n            const accounts = await window.ethereum.request({ \n                method: 'eth_requestAccounts' \n            });\n            console.log('Connected account:', accounts[0]);\n            \n            // Connect to MetaMask\n            const provider = new BrowserProvider(window.ethereum);\n            console.log('Provider created');\n            \n            const signer = await provider.getSigner();\n            console.log('Signer obtained');\n            \n            // Create contract instance\n            const contract = new Contract(\n                CONTRACT_ADDRESS,\n                CONTRACT_ABI,\n                signer\n            );\n            console.log('Contract instance created');\n            \n            // For testing, let's just mint with dummy data\n            console.log('Initiating mint transaction...');\n            const tx = await contract.mint(\n                await signer.getAddress(),\n                \"test-uri\",\n                originalNFT?.tokenId || \"test-token\",\n                originalNFT?.chainId || 1\n            );\n            \n            console.log('Transaction sent:', tx.hash);\n            console.log('Waiting for confirmation...');\n            \n            const receipt = await tx.wait();\n            console.log('Transaction confirmed:', receipt);\n            \n            alert('NFT Minted Successfully!');\n            \n        } catch (error) {\n            console.error('Minting error:', error);\n            alert('Failed to mint NFT: ' + error.message);\n        } finally {\n            setIsMinting(false);\n        }\n    };\n    \n    return (\n        <button \n            onClick={mintNFT} \n            disabled={isMinting}\n            className=\"mint-button\"\n            style={{\n                padding: '10px 20px',\n                fontSize: '16px',\n                backgroundColor: '#4CAF50',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px',\n                cursor: isMinting ? 'not-allowed' : 'pointer',\n                opacity: isMinting ? 0.7 : 1\n            }}\n        >\n            {isMinting ? 'Minting...' : 'Mint NFT'}\n        </button>\n    );\n};\n\nexport default NFTMinter;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}