{"ast":null,"code":"import { Vector3 } from 'three';\nexport class SeparatingAxisBounds {\n  constructor() {\n    this.min = Infinity;\n    this.max = -Infinity;\n  }\n  setFromPointsField(points, field) {\n    let min = Infinity;\n    let max = -Infinity;\n    for (let i = 0, l = points.length; i < l; i++) {\n      const p = points[i];\n      const val = p[field];\n      min = val < min ? val : min;\n      max = val > max ? val : max;\n    }\n    this.min = min;\n    this.max = max;\n  }\n  setFromPoints(axis, points) {\n    let min = Infinity;\n    let max = -Infinity;\n    for (let i = 0, l = points.length; i < l; i++) {\n      const p = points[i];\n      const val = axis.dot(p);\n      min = val < min ? val : min;\n      max = val > max ? val : max;\n    }\n    this.min = min;\n    this.max = max;\n  }\n  isSeparated(other) {\n    return this.min > other.max || other.min > this.max;\n  }\n}\nSeparatingAxisBounds.prototype.setFromBox = function () {\n  const p = new Vector3();\n  return function setFromBox(axis, box) {\n    const boxMin = box.min;\n    const boxMax = box.max;\n    let min = Infinity;\n    let max = -Infinity;\n    for (let x = 0; x <= 1; x++) {\n      for (let y = 0; y <= 1; y++) {\n        for (let z = 0; z <= 1; z++) {\n          p.x = boxMin.x * x + boxMax.x * (1 - x);\n          p.y = boxMin.y * y + boxMax.y * (1 - y);\n          p.z = boxMin.z * z + boxMax.z * (1 - z);\n          const val = axis.dot(p);\n          min = Math.min(val, min);\n          max = Math.max(val, max);\n        }\n      }\n    }\n    this.min = min;\n    this.max = max;\n  };\n}();\nexport const areIntersecting = function () {\n  const cacheSatBounds = new SeparatingAxisBounds();\n  return function areIntersecting(shape1, shape2) {\n    const points1 = shape1.points;\n    const satAxes1 = shape1.satAxes;\n    const satBounds1 = shape1.satBounds;\n    const points2 = shape2.points;\n    const satAxes2 = shape2.satAxes;\n    const satBounds2 = shape2.satBounds;\n\n    // check axes of the first shape\n    for (let i = 0; i < 3; i++) {\n      const sb = satBounds1[i];\n      const sa = satAxes1[i];\n      cacheSatBounds.setFromPoints(sa, points2);\n      if (sb.isSeparated(cacheSatBounds)) return false;\n    }\n\n    // check axes of the second shape\n    for (let i = 0; i < 3; i++) {\n      const sb = satBounds2[i];\n      const sa = satAxes2[i];\n      cacheSatBounds.setFromPoints(sa, points1);\n      if (sb.isSeparated(cacheSatBounds)) return false;\n    }\n  };\n}();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}