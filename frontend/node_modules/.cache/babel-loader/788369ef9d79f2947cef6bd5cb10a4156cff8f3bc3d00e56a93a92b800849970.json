{"ast":null,"code":"import { Loader, CanvasTexture, NearestFilter, FileLoader } from \"three\";\nimport lottie from \"../libs/lottie.js\";\nclass LottieLoader extends Loader {\n  setQuality(value) {\n    this._quality = value;\n  }\n  load(url, onLoad, onProgress, onError) {\n    const quality = this._quality || 1;\n    const texture = new CanvasTexture();\n    texture.minFilter = NearestFilter;\n    const loader = new FileLoader(this.manager);\n    loader.setPath(this.path);\n    loader.setWithCredentials(this.withCredentials);\n    loader.load(url, function (text) {\n      const data = JSON.parse(text);\n      const container = document.createElement(\"div\");\n      container.style.width = data.w + \"px\";\n      container.style.height = data.h + \"px\";\n      document.body.appendChild(container);\n      const animation = lottie.loadAnimation({\n        container,\n        animType: \"canvas\",\n        loop: true,\n        autoplay: true,\n        animationData: data,\n        rendererSettings: {\n          dpr: quality\n        }\n      });\n      texture.animation = animation;\n      texture.image = animation.container;\n      animation.addEventListener(\"enterFrame\", function () {\n        texture.needsUpdate = true;\n      });\n      container.style.display = \"none\";\n      if (onLoad !== void 0) {\n        onLoad(texture);\n      }\n    }, onProgress, onError);\n    return texture;\n  }\n}\nexport { LottieLoader };\n//# sourceMappingURL=LottieLoader.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}